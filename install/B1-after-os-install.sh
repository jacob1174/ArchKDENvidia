#!/bin/bash
set -e
##################################################################################################################
# Written to be used on 64 bits computers
# Author 	: 	Jacob Lutz	
# email 	: 	jlutz152
##################################################################################################################
##################################################################################################################
#
#   DO NOT JUST RUN THIS. EXAMINE AND JUDGE. RUN AT YOUR OWN RISK.
#
##################################################################################################################

echo "######################################################################################################################"
echo "####             Updating to the latest versions            ####"
echo "######################################################################################################################"

sudo pacman -Syyu

echo "######################################################################################################################"
echo "####             Your system is now up to date              ####"
echo "######################################################################################################################"


echo "######################################################################################################################"
echo "####             Installing reflector if needed             ####"
echo "######################################################################################################################"


# installing refector to test which servers are fastest
sudo pacman -S reflector --needed --noconfirm


echo "######################################################################################################################"
echo "####        finding fastest servers be patient in US         ###"
echo "######################################################################################################################"

sudo reflector -c "United States" -f 12 -l 10 -n 12 --verbose --save /etc/pacman.d/mirrolist


echo "######################################################################################################################"
echo "####     fastest arch servers in US saved                   ####"
echo "######################################################################################################################"


cat /etc/pacman.d/mirrorlist


echo "######################################################################################################################"
echo "####               Checking for possible updates            ####"
echo "######################################################################################################################"

sudo pacman -Syu --noconfirm


echo "######################################################################################################################"
echo "####             Your system is now up to date              ####"
echo "######################################################################################################################"



echo "######################################################################################################################"
echo "#######Installing Xorg ###### Installing Xorg ##################"
echo "######################################################################################################################"

sudo pacman -S xorg --noconfirm

echo "######################################################################################################################"
echo "############# Xorg has been installed  #########################"
echo "######################################################################################################################"

echo "######################################################################################################################"
echo "#######   Installing Nvidia Video Drivers        ##################"
echo "######################################################################################################################"

sudo pacman -S nvidia --noconfirm

echo "######################################################################################################################"
echo "######## Nvidia drivers has been installed ########################"
echo "######################################################################################################################"

echo "######################################################################################################################"
echo "######                  Installing SDDM                 ###############"
echo "######################################################################################################################"

sudo pacman -S sddm --noconfirm 
sudo pacman -S sddm-kcm --noconfirm

sudo systemctl enable sddm.service

echo "######################################################################################################################"
echo "############# SDDM has been installed #######################"
echo "######################################################################################################################"
echo "############# SDDM has been enabled   #######################"
echo "######################################################################################################################"

echo "######################################################################################################################"
echo "#######                                Redirecting 'exec startkde' to ./xinitrc #########"
echo "######################################################################################################################"

echo "exec startkde" >  ~./xinitrc

echo "######################################################################################################################"
echo "#######                                Redirecting 'exec startkde' to ./xinitrc complete  #########"
echo "######################################################################################################################"

echo "######################################################################################################################"
echo "#######           Installing KDE and components    #########"
echo "######################################################################################################################"

sudo pacman -S plasma  --noconfirm
sudo pacman -S kios-extras  --noconfirm
sudo pacman -S kdebase  --noconfirm

echo "######################################################################################################################"
echo "######## KDE and components has been installed  ############"
echo "######################################################################################################################"


echo "######################################################################################################################"
echo "#########        Install Sound Software         ################"
echo "######################################################################################################################"

sudo pacman -S pulseaudio pulseaudio-alsa pavucontrol plama-pa --noconfirm --needed
sudo pacman -S alsa-utils alsa-plugins alsa-lib alsa-firmware --noconfirm --needed
sudo pacman -S gst-plugins-good gst-plugins-bad gst-plugins-base gst-plugins-ugly  gstreamer  --noconfirm --needed

echo "######################################################################################################################"
echo "#########      Sound Software installed         ################"
echo "######################################################################################################################"



echo "######################################################################################################################"
echo "########   Installing Network Management Software   ############"
echo "######################################################################################################################"

sudo pacman -S networkmanager --noconfirm
sudo pacman -S plasma-nm --noconfirm

sudo systemctl enable NetworkManager.service

echo "######################################################################################################################"
echo "#########   Network Management Software installed  #############"
echo "######################################################################################################################"
echo "#########         Networkmanger is enabled         #############"
echo "######################################################################################################################"



echo "######################################################################################################################"
echo "######################################################################################################################"
echo "#########   Installing Basic desktop components ################"
echo "######################################################################################################################"

echo "######################################################################################################################"
echo "#########     Installing from Arch repository   ################"
echo "######################################################################################################################"

sudo pacman -S --noconfirm --needed ark 
sudo pacman -S --noconfirm --needed breeze-gtk
sudo pacman -S --noconfirm --needed firefox
sudo pacman -S --noconfirm --needed kinfocenter
sudo pacman -S --noconfirm --needed kwalletmanager
sudo pacman -S --noconfirm --needed gwenview
sudo pacman -S --noconfirm --needed kde-gtk-config
sudo pacman -S --noconfirm --needed kfind
sudo pacman -S --noconfirm --needed kipi-plugins
sudo pacman -S --noconfirm --needed kompare
sudo pacman -S --noconfirm --needed kruler
sudo pacman -S --noconfirm --needed ktorrent
sudo pacman -S --noconfirm --needed libreoffice-fresh
sudo pacman -S --noconfirm --needed ntfs-3g
sudo pacman -S --noconfirm --needed okular
sudo pacman -S --noconfirm --needed polkit
sudo pacman -S --noconfirm --needed smplayer
sudo pacman -S --noconfirm --needed speedcrunch
sudo pacman -S --noconfirm --needed udisks2
sudo pacman -S --noconfirm --needed udiskie


###############################################################################################

# installation of zippers and unzippers
sudo pacman -S --noconfirm  unace unrar zip unzip sharutils  uudeview  arj

###############################################################################################

echo "######################################################################################################################"
echo "#########          Installing from AUR          ################"
echo "######################################################################################################################"

echo "######################################################################################################################"
echo "breeze-kde4"   
echo "######################################################################################################################"

yay -S --noconfirm breeze-kde4

echo "######################################################################################################################"
echo "inxi"
echo "######################################################################################################################"


yay -S --noconfirm inxi

echo "######################################################################################################################"
echo "mintstick"
echo "######################################################################################################################"

yay -S --noconfirm mintstick-git

echo "######################################################################################################################"
echo "sublime-text"
echo "######################################################################################################################"

yay -S --noconfirm sublime-text-dev
i

echo "################################################################"
echo "######## Extra desktop components have been installed  #########"
echo "################################################################"
	
echo "################################################################"
echo "######## Please reboot and sign in and setup network  ######################"
echo "################################################################"
